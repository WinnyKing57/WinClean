#!/bin/sh
# postinst script for debian-storage-analyzer v3.1.0

set -e

case "$1" in
    configure)
        echo "ðŸš€ Installation de l'Analyseur de Stockage Debian v3.1.0..."
        
        # Mettre Ã  jour la base de donnÃ©es des applications desktop
        if command -v update-desktop-database >/dev/null 2>&1; then
            update-desktop-database -q /usr/share/applications || true
        fi
        
        # Mettre Ã  jour le cache des icÃ´nes
        if command -v gtk-update-icon-cache >/dev/null 2>&1; then
            gtk-update-icon-cache -q -t -f /usr/share/icons/hicolor || true
        fi
        
        # Mettre Ã  jour la base de donnÃ©es MIME
        if command -v update-mime-database >/dev/null 2>&1; then
            update-mime-database /usr/share/mime || true
        fi
        
        # CrÃ©er le rÃ©pertoire de configuration par dÃ©faut
        mkdir -p /etc/skel/.config/debian-storage-analyzer
        
        # Informer l'utilisateur
        echo ""
        echo "ðŸŽ‰ Analyseur de Stockage Debian v3.1.0 installÃ© avec succÃ¨s!"
        echo ""
        echo "ðŸŽ¯ Vous pouvez maintenant:"
        echo "   â€¢ Le lancer depuis le menu Applications > SystÃ¨me"
        echo "   â€¢ Le chercher dans Discover/Software Center"
        echo "   â€¢ L'exÃ©cuter avec: debian-storage-analyzer"
        echo ""
        echo "âœ¨ Nouvelles fonctionnalitÃ©s v3.1.0:"
        echo "   â€¢ Interface moderne avec thÃ¨mes adaptatifs"
        echo "   â€¢ Clic droit sur fichiers pour ouvrir dans l'explorateur"
        echo "   â€¢ Graphiques interactifs et dÃ©tection de doublons"
        echo "   â€¢ Surveillance temps rÃ©el et historique"
        echo "   â€¢ Gestion automatique des dÃ©pendances par le systÃ¨me"
        echo ""
        ;;
        
    abort-upgrade|abort-remove|abort-deconfigure)
        ;;
        
    *)
        echo "postinst called with unknown argument \`$1'" >&2
        exit 1
        ;;
esac



exit 0